<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>关于视频录制的一些问题 | JessibucaPro Doc</title>
    <meta name="description" content="一款纯H5直播流播放器">
    <link rel="stylesheet" href="/assets/style.e3f468c3.css">
    <link rel="modulepreload" href="/assets/plugin-vue_export-helper.2d87e7a1.js">
    <link rel="modulepreload" href="/assets/Home.6a91b213.js">
    <link rel="modulepreload" href="/assets/question.md.9d35ef7e.lean.js">
    <link rel="modulepreload" href="/assets/app.6846a517.js">
    <meta name="twitter:title" content="关于视频录制的一些问题 | JessibucaPro Doc">
    <meta property="og:title" content="关于视频录制的一些问题 | JessibucaPro Doc">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-40587210><div class="sidebar-button" data-v-40587210><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="JessibucaPro Doc, back to home" data-v-40587210 data-v-7ac13a1e><!----> JessibucaPro Doc</a><div class="flex-grow" data-v-40587210></div><div class="nav" data-v-40587210><nav class="nav-links" data-v-40587210 data-v-640fc9fc><!--[--><div class="item" data-v-640fc9fc><div class="nav-link" data-v-640fc9fc data-v-49fe041d><a class="item" href="/api.html" data-v-49fe041d>API <!----></a></div></div><div class="item" data-v-640fc9fc><div class="nav-dropdown-link" data-v-640fc9fc data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>更多API</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/playback-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>playback-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/audio-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>audio-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/multi-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>multi-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/talk-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>talk-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/ai-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>ai-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-640fc9fc><div class="nav-dropdown-link" data-v-640fc9fc data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>业务方案</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/doc.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>音视频播放器</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/doc-playback.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>回放流/录像流</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/doc-audio.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>音频播放器</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/doc-talk.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>语音通讯</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-640fc9fc><div class="nav-dropdown-link" data-v-640fc9fc data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>问题解答</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item active" href="/question.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>音视频播放器</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/question-playback.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>回放流/录像流</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/question-audio.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>音频播放器</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/question-talk.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>语音通讯</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-640fc9fc><div class="nav-link" data-v-640fc9fc data-v-49fe041d><a class="item" href="/upgrade.html" data-v-49fe041d>升级 <!----></a></div></div><div class="item" data-v-640fc9fc><div class="nav-link" data-v-640fc9fc data-v-49fe041d><a class="item" href="/build.html" data-v-49fe041d>项目打包 <!----></a></div></div><div class="item" data-v-640fc9fc><div class="nav-link" data-v-640fc9fc data-v-49fe041d><a class="item" href="/changelog.html" data-v-49fe041d>更新日志 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-17c48e2f><nav class="nav-links nav" data-v-17c48e2f data-v-640fc9fc><!--[--><div class="item" data-v-640fc9fc><div class="nav-link" data-v-640fc9fc data-v-49fe041d><a class="item" href="/api.html" data-v-49fe041d>API <!----></a></div></div><div class="item" data-v-640fc9fc><div class="nav-dropdown-link" data-v-640fc9fc data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>更多API</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/playback-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>playback-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/audio-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>audio-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/multi-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>multi-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/talk-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>talk-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/ai-api.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>ai-API</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-640fc9fc><div class="nav-dropdown-link" data-v-640fc9fc data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>业务方案</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/doc.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>音视频播放器</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/doc-playback.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>回放流/录像流</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/doc-audio.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>音频播放器</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/doc-talk.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>语音通讯</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-640fc9fc><div class="nav-dropdown-link" data-v-640fc9fc data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>问题解答</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item active" href="/question.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>音视频播放器</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/question-playback.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>回放流/录像流</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/question-audio.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>音频播放器</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/question-talk.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>语音通讯</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-640fc9fc><div class="nav-link" data-v-640fc9fc data-v-49fe041d><a class="item" href="/upgrade.html" data-v-49fe041d>升级 <!----></a></div></div><div class="item" data-v-640fc9fc><div class="nav-link" data-v-640fc9fc data-v-49fe041d><a class="item" href="/build.html" data-v-49fe041d>项目打包 <!----></a></div></div><div class="item" data-v-640fc9fc><div class="nav-link" data-v-640fc9fc data-v-49fe041d><a class="item" href="/changelog.html" data-v-49fe041d>更新日志 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-17c48e2f><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#关于视频录制的一些问题">关于视频录制的一些问题</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#录制的mp4格式的视频，会有加快倍率播放的现象">录制的mp4格式的视频，会有加快倍率播放的现象</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#录制的mp4格式的视频，为啥不支持音频数据。">录制的mp4格式的视频，为啥不支持音频数据。</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#播放器内部的样式发生变形或者class-丢失">播放器内部的样式发生变形或者class 丢失</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#当container窗口发生变化的时候，播放器如何自适应">当container窗口发生变化的时候，播放器如何自适应</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#关于播放器内部自定义dom">关于播放器内部自定义DOM</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#出现页面崩溃之后，问题定位">出现页面崩溃之后，问题定位</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#是否开启了devtools">是否开启了devTools</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#检查崩溃日志">检查崩溃日志</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#如果是必先的">如果是必先的</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#安卓webview-下面的一些问题">安卓webview 下面的一些问题</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#播放视频白屏、无画面问题解决">播放视频白屏、无画面问题解决</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#视频不能全屏问题解决">视频不能全屏问题解决</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#打包需要支持es5">打包需要支持es5</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#jbpro-container-has-been-created-and-can-not-be-created-again-错误">JbPro container has been created and can not be created again 错误</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#关于如何配置使用wasm、wasm-simd-多线程解码">关于如何配置使用wasm、wasm(simd)多线程解码</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#localhost">localhost</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#服务器">服务器</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#wasm编译打包-之后报：uncaught-referenceerror-module-is-not-defined">wasm编译打包 之后报：uncaught referenceError:module is not defined</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-8fcebc32><div class="container" data-v-8fcebc32><!--[--><!--]--><div style="position:relative;" class="content" data-v-8fcebc32><div><h2 id="关于视频录制的一些问题"><a class="header-anchor" href="#关于视频录制的一些问题" aria-hidden="true">#</a> 关于视频录制的一些问题</h2><h3 id="录制的mp4格式的视频，会有加快倍率播放的现象"><a class="header-anchor" href="#录制的mp4格式的视频，会有加快倍率播放的现象" aria-hidden="true">#</a> 录制的mp4格式的视频，会有加快倍率播放的现象</h3><p>因为目前<code>mp4格式</code>的录制，是按照固定<code>25FPS</code>来录制的。所以如果直播流的fps 只有20，那么录制出来的视频在播放的时候，就会有加快倍率的现象。</p><h3 id="录制的mp4格式的视频，为啥不支持音频数据。"><a class="header-anchor" href="#录制的mp4格式的视频，为啥不支持音频数据。" aria-hidden="true">#</a> 录制的mp4格式的视频，为啥不支持音频数据。</h3><p>目前mp4格式的文件，只支持AAC格式封装的音频。但是目前的直播流，音频一般都是G711格式的，所以目前mp4格式的录制，不支持音频数据。</p><blockquote><p>虽然也有一些直播流，音频是AAC格式的，但是目前pro的音频解码是放wasm里面做的。所以处理起来会麻烦很多。所以暂不支持音频数据。</p></blockquote><h2 id="播放器内部的样式发生变形或者class-丢失"><a class="header-anchor" href="#播放器内部的样式发生变形或者class-丢失" aria-hidden="true">#</a> 播放器内部的样式发生变形或者class 丢失</h2><p>可能得原因：</p><ul><li>播放器样式被其他样式覆盖了,检查下是否有全局样式覆盖了播放器的样式（播放器内部会有<code>video</code>,<code>canvas</code>标签）。</li><li>container 设置了双向绑定，导致class丢失。</li></ul><p>推荐的 vue 写法</p><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--  不要绑定任何的 :class :style 样式  --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;App&#39;</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 通过 ref 获取到 dom 节点</span>
        <span class="token keyword">const</span> dom <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">&#39;container&#39;</span><span class="token punctuation">]</span>
        <span class="token comment">// 通过 dom 节点获取到 player 实例</span>
        <span class="token keyword">const</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>JessibucaPro</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">container</span><span class="token operator">:</span> dom<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>推荐的 react 写法</p><div class="language-jsx"><pre><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> container <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>JessibucaPro</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">container</span><span class="token operator">:</span> container<span class="token punctuation">.</span>current<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>container<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="当container窗口发生变化的时候，播放器如何自适应"><a class="header-anchor" href="#当container窗口发生变化的时候，播放器如何自适应" aria-hidden="true">#</a> 当container窗口发生变化的时候，播放器如何自适应</h2><p>播放器提供一个<code>resize()</code> 方法。当外界窗口发生变化的时候，调用该方法即可。</p><div class="language-js"><pre><code><span class="token keyword">const</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>JessibucaPro</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">container</span><span class="token operator">:</span> dom<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>



<span class="token comment">// 当container的宽高发生变化的时候，调用resize方法</span>
player<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="关于播放器内部自定义dom"><a class="header-anchor" href="#关于播放器内部自定义dom" aria-hidden="true">#</a> 关于播放器内部自定义DOM</h2><p>业务需要有自己的dom在播放器内部，例如</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>当初始化播放器，传递 <code>container</code> 参数的时候，播放器会在 <code>container</code> 内部创建播放器的<code>DOM</code></p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    // 播放器自己初始化的dom元素
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果业务需在播放器内部有自己的<code>DOM</code>，可以直接在<code>container</code>内部创建，播放器会自动识别并不会覆盖。</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    // 播放器自己初始化的dom元素
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
    // 业务的dom
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>your-dom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>业务自己的dom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>小结： 所以在初始化播放器的时候，业务可以通过在container内部创建自己的dom。</p><div class="language-html"><pre><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    // 业务的dom
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>your-dom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>业务自己的dom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>待播放器初始化的时候，播放器只会在container内部创建自己的dom，不会覆盖业务自己的dom。</p><blockquote><p>调用播放器destroy() 方法的时候，播放器内部也只会销毁掉播放器创建的dom，不会销毁业务自己创建的dom。</p></blockquote><h2 id="出现页面崩溃之后，问题定位"><a class="header-anchor" href="#出现页面崩溃之后，问题定位" aria-hidden="true">#</a> 出现页面崩溃之后，问题定位</h2><h3 id="是否开启了devtools"><a class="header-anchor" href="#是否开启了devtools" aria-hidden="true">#</a> 是否开启了<code>devTools</code></h3><p>首先检查下是否开启了<code>devTools</code>。</p><p>因为devtools 会打印日志，日志本身就会占用很多内存，也会导致浏览器崩溃。</p><h3 id="检查崩溃日志"><a class="header-anchor" href="#检查崩溃日志" aria-hidden="true">#</a> 检查崩溃日志</h3><p>通过<code>chrome://crashes/</code>查看崩溃日志</p><h3 id="如果是必先的"><a class="header-anchor" href="#如果是必先的" aria-hidden="true">#</a> 如果是必先的</h3><p>可以通过</p><img src="/assets/crash-1.7a28655b.png"><img src="/assets/crash-2.e6664874.png"><p>观察下内存是否一致增加。</p><h2 id="安卓webview-下面的一些问题"><a class="header-anchor" href="#安卓webview-下面的一些问题" aria-hidden="true">#</a> 安卓webview 下面的一些问题</h2><blockquote><p>在项目中，会有在webview嵌入的网页中播放视频的需求，会在部分手机上出现白屏或有声音无画面等问题，并且存在全屏按钮点击无效果的问题。</p></blockquote><p>借鉴：<a href="https://www.cnblogs.com/hwb04160011/p/13960585.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/hwb04160011/p/13960585.html</a></p><h3 id="播放视频白屏、无画面问题解决"><a class="header-anchor" href="#播放视频白屏、无画面问题解决" aria-hidden="true">#</a> 播放视频白屏、无画面问题解决</h3><p>原因是WebView播放视频时可能需要硬件加速才可以正常播放视频，关闭硬件加速可能在部分手机上出现白屏、无画面、无法暂停等问题。解决方法就是开启硬件加速：</p><p>在AndroidManifest.xml的application中声明HardwareAccelerate属性 在AndroidManifest.xml的对应activity中声明HardwareAccelerate属性 在使用WebView的代码前添加如下代码：</p><div class="language-java"><pre><code>window<span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">FLAG_HARDWARE_ACCELERATED</span><span class="token punctuation">,</span>
    <span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">FLAG_HARDWARE_ACCELERATED</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="视频不能全屏问题解决"><a class="header-anchor" href="#视频不能全屏问题解决" aria-hidden="true">#</a> 视频不能全屏问题解决</h3><p>原因是WebView的视频全屏事件是需要客户端完成后续逻辑的，网页点击全屏按钮会触发WebChromeClient的onShowCustomView方法，全屏后缩回来会触发onHideCustomView方法，在这两个方法中我们要对视频进行一个全屏放大的处理。</p><p>在我们的WebView使用之前需要添加的代码如下：</p><div class="language-java"><pre><code>    <span class="token keyword">var</span> fullscreenContainer<span class="token operator">:</span> <span class="token class-name">FrameLayout</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">var</span> customViewCallback<span class="token operator">:</span> <span class="token class-name">WebChromeClient<span class="token punctuation">.</span>CustomViewCallback</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    val mWebChromeClient <span class="token operator">=</span> object <span class="token operator">:</span> <span class="token class-name">WebChromeClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        override fun <span class="token function">onShowCustomView</span><span class="token punctuation">(</span>view<span class="token operator">:</span> <span class="token class-name">View</span><span class="token operator">?</span><span class="token punctuation">,</span> callback<span class="token operator">:</span> <span class="token class-name">CustomViewCallback</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onShowCustomView</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>
            <span class="token function">showCustomView</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        override fun <span class="token function">onHideCustomView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onHideCustomView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">hideCustomView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 显示自定义控件
     */</span>
    <span class="token keyword">private</span> fun <span class="token function">showCustomView</span><span class="token punctuation">(</span>view<span class="token operator">:</span> <span class="token class-name">View</span><span class="token operator">?</span><span class="token punctuation">,</span> callback<span class="token operator">:</span> <span class="token class-name">WebChromeClient<span class="token punctuation">.</span>CustomViewCallback</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fullscreenContainer <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            callback<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">onCustomViewHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        fullscreenContainer <span class="token operator">=</span> <span class="token class-name">FrameLayout</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>apply <span class="token punctuation">{</span> <span class="token function">setBackgroundColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        customViewCallback <span class="token operator">=</span> callback
        fullscreenContainer<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addView</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span>
        val decorView <span class="token operator">=</span> <span class="token punctuation">(</span>context as<span class="token operator">?</span> <span class="token class-name">Activity</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>window<span class="token operator">?</span><span class="token punctuation">.</span>decorView as<span class="token operator">?</span> <span class="token class-name">FrameLayout</span>
        <span class="token punctuation">(</span>context as<span class="token operator">?</span> <span class="token class-name">Activity</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>requestedOrientation <span class="token operator">=</span> <span class="token class-name">ActivityInfo</span><span class="token punctuation">.</span><span class="token constant">SCREEN_ORIENTATION_LANDSCAPE</span>
        decorView<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addView</span><span class="token punctuation">(</span>fullscreenContainer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 隐藏自定义控件
     */</span>
    <span class="token keyword">private</span> fun <span class="token function">hideCustomView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fullscreenContainer <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        val decorView <span class="token operator">=</span> <span class="token punctuation">(</span>context as<span class="token operator">?</span> <span class="token class-name">Activity</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>window<span class="token operator">?</span><span class="token punctuation">.</span>decorView as<span class="token operator">?</span> <span class="token class-name">FrameLayout</span>
        <span class="token punctuation">(</span>context as<span class="token operator">?</span> <span class="token class-name">Activity</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>requestedOrientation <span class="token operator">=</span> <span class="token class-name">ActivityInfo</span><span class="token punctuation">.</span><span class="token constant">SCREEN_ORIENTATION_PORTRAIT</span>
        fullscreenContainer<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeAllViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        decorView<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeView</span><span class="token punctuation">(</span>fullscreenContainer<span class="token punctuation">)</span>
        fullscreenContainer <span class="token operator">=</span> <span class="token keyword">null</span>
        customViewCallback<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">onCustomViewHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        customViewCallback <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>

</code></pre></div><p>最终在WebView使用时，为WebView设置WebChromeClient：</p><div class="language-java"><pre><code>    webView<span class="token punctuation">.</span>webChromeClient <span class="token operator">=</span> mWebChromeClient
</code></pre></div><h2 id="打包需要支持es5"><a class="header-anchor" href="#打包需要支持es5" aria-hidden="true">#</a> 打包需要支持es5</h2><p>目前的打包配置是只支持es6的</p><p>如果需要支持es5</p><p>修改 <code>package.json</code></p><div class="language-json"><pre><code><span class="token punctuation">{</span>
    <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;last 1 version&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&gt; 1%&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="jbpro-container-has-been-created-and-can-not-be-created-again-错误"><a class="header-anchor" href="#jbpro-container-has-been-created-and-can-not-be-created-again-错误" aria-hidden="true">#</a> JbPro container has been created and can not be created again 错误</h2><p>如果出现这个错误，说明container已经被创建了，不能重复创建。</p><blockquote><p>一般这个报错，是出现在销毁播放器之后，又重新创建播放器的时候。</p></blockquote><p>destroy 是个<code>promise</code>，需要等待播放器内部的资源全部销毁之后，才能重新创建。</p><div class="language-js"><pre><code><span class="token keyword">const</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>JessibucaPro</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">container</span><span class="token operator">:</span> dom<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p>重建播放器的正确姿势</p><div class="language-javascript"><pre><code><span class="token comment">//</span>
player<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 销毁完成之后，才能重新创建</span>
    <span class="token keyword">const</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>JessibucaPro</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">container</span><span class="token operator">:</span> dom<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>或者</p><div class="language-javascript"><pre><code>
<span class="token comment">// 或者</span>
<span class="token keyword">await</span> player<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>JessibucaPro</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">container</span><span class="token operator">:</span> dom<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="关于如何配置使用wasm、wasm-simd-多线程解码"><a class="header-anchor" href="#关于如何配置使用wasm、wasm-simd-多线程解码" aria-hidden="true">#</a> 关于如何配置使用wasm、wasm(simd)多线程解码</h2><h3 id="localhost"><a class="header-anchor" href="#localhost" aria-hidden="true">#</a> localhost</h3><p>不限制 <code>http</code>或者 <code>https</code>协议</p><p>需要在线申请一个origin trial token <a href="https://developer.chrome.com/origintrials/?utm_source=devtools#/view_trial/303992974847508481" target="_blank" rel="noopener noreferrer">https://developer.chrome.com/origintrials/?utm_source=devtools#/view_trial/303992974847508481</a></p><p>然后配置到<code>index.html</code>中</p><div class="language-html"><pre><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>origin-trial<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>your origin trial token<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="服务器"><a class="header-anchor" href="#服务器" aria-hidden="true">#</a> 服务器</h3><p>需要<code>https</code>协议下。否则无法使用。</p><p>需要在服务器上配置<code>cross-origin-isolated</code>头</p><p>以node 为例</p><div class="language-js"><pre><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Cross-Origin-Opener-Policy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;same-origin&#39;</span><span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Cross-Origin-Embedder-Policy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;require-corp&#39;</span><span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>nginx 配置</p><div class="language-nginx"><pre><code><span class="token directive"><span class="token keyword">add_header</span> Cross-Origin-Opener-Policy same-origin</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">add_header</span> Cross-Origin-Embedder-Policy require-corp</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="wasm编译打包-之后报：uncaught-referenceerror-module-is-not-defined"><a class="header-anchor" href="#wasm编译打包-之后报：uncaught-referenceerror-module-is-not-defined" aria-hidden="true">#</a> wasm编译打包 之后报：uncaught referenceError:module is not defined</h2><blockquote><p>一般是因为wasm没有编译成功，导致的。</p></blockquote><p>检查下有没有严格按照 <a href="/build.html#打包">wasm编译打包</a> 执行。</p></div></div><footer class="page-footer" data-v-8fcebc32 data-v-5c96fb00><div class="edit" data-v-5c96fb00><div class="edit-link" data-v-5c96fb00 data-v-55695e90><!----></div></div><div class="updated" data-v-5c96fb00><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"ai-api.md\":\"5c315cc8\",\"api.md\":\"8a5273ca\",\"audio-api.md\":\"1d5aa4de\",\"build.md\":\"2e248cca\",\"changelog-dev.md\":\"16427c3c\",\"changelog.md\":\"9478b91c\",\"doc-audio.md\":\"dbbf51f3\",\"doc-playback.md\":\"646d5eb9\",\"doc-talk.md\":\"f15d4b7d\",\"doc.md\":\"b82c37fa\",\"index.md\":\"e65248ff\",\"multi-api.md\":\"3ace59e5\",\"playback-api.md\":\"6dc734e7\",\"question-audio.md\":\"677fdbda\",\"question-playback.md\":\"eba78a88\",\"question-talk.md\":\"00c27080\",\"question.md\":\"9d35ef7e\",\"talk-api.md\":\"ac85f09f\",\"upgrade.md\":\"321af037\"}")</script>
    <script type="module" async src="/assets/app.6846a517.js"></script>
  </body>
</html>